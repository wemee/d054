# d054
d054: 11310 - DELIVERY DEBACLE

[高中生解題平台](http://zerojudge.tw/), [d054: 11310 - DELIVERY DEBACLE](http://zerojudge.tw/ShowProblem?problemid=d054)

我的解法在 [main.c](https://github.com/wemee/d054/blob/master/main.c)

在Ruby上面用相同的演算法執行沒問題

但在使用IEE754作為浮點數運算標準的語言，會有精度問題

本例使用C語言，不管是送到解題平台，還是在我自己的電腦(Mac OS)

或是送到我自己的Linux伺服器上面去編譯執行看看

都會在n=38時出錯，計算結果會比正確答案還多1

--

測試一了一下double型態從哪邊會開始出錯

發現魔術數字是`9007199254740991`

只要是double型態的數字，超過`9007199254740991`就會開始出錯

譬如

    double a = 9007199254740991
    printf("%f", a+1); // => 9007199254740992 正確
    printf("%f", a+2); // => 9007199254740992 錯誤
    printf("%f", a+3); // => 9007199254740992 錯誤
    printf("%f", a+3); // => 9007199254740992 錯誤，以下開始鬼打牆，不管怎麼加都是9007199254740992
  
--

所以... 來吧~ 要解這一題又要搞大數運算了

每次解演算法的題目，最後都會變成要搞大數運算
